<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz d'orientation – WeGrow</title>
  <link rel="stylesheet" href="design-system.css?v=2">
  <link rel="stylesheet" href="style.css?v=2">
  <script src="includes.js" defer></script>
</head>
<body>
  <div id="header-placeholder"></div>

  <main>
    <!-- Hero -->
    <section class="hero">
      <div class="hero-content">
        <h1>Quiz d'orientation post‑bac</h1>
        <p class="hero-subtitle">
          Réponds à une quinzaine de questions et découvre les types de formations qui peuvent te convenir.
        </p>
      </div>
    </section>

    <!-- Quiz -->
    <section class="section">
      <div class="section-container">
        <div class="card">
          <div class="quiz-progress">
            <div class="quiz-progress-bar" id="progressBar" style="width:6.67%"></div>
          </div>
          <div class="quiz-counter" id="questionCounter">Question 1 / 15</div>

          <form id="orientationQuiz">
            <!-- Q1 -->
            <div class="quiz-question active">
              <p>1. Ce que tu préfères en cours :</p>
              <label class="quiz-option"><input type="radio" name="q1" value="prepa">Raisonnement abstrait, exercices difficiles</label>
              <label class="quiz-option"><input type="radio" name="q1" value="selectif">Analyser des textes, rédiger, argumenter</label>
              <label class="quiz-option"><input type="radio" name="q1" value="but">Projets concrets, cas pratiques</label>
            </div>

            <!-- Q2 -->
            <div class="quiz-question">
              <p>2. Ton niveau global au lycée :</p>
              <label class="quiz-option"><input type="radio" name="q2" value="prepa">Très bon (top de classe, mentions hautes visées)</label>
              <label class="quiz-option"><input type="radio" name="q2" value="selectif">Bon (sérieux, résultats réguliers)</label>
              <label class="quiz-option"><input type="radio" name="q2" value="but">Correct mais irrégulier / en progrès</label>
            </div>

            <!-- Q3 -->
            <div class="quiz-question">
              <p>3. Ton intérêt pour les maths :</p>
              <label class="quiz-option"><input type="radio" name="q3" value="prepa">J'aime beaucoup et j'accepte une grosse charge</label>
              <label class="quiz-option"><input type="radio" name="q3" value="selectif">J'accepte les maths si c'est utile</label>
              <label class="quiz-option"><input type="radio" name="q3" value="but">Je préfère limiter les maths</label>
            </div>

            <!-- Q4 -->
            <div class="quiz-question">
              <p>4. Les matières que tu préfères :</p>
              <label class="quiz-option"><input type="radio" name="q4" value="prepa">Maths, physique, économie "théorique"</label>
              <label class="quiz-option"><input type="radio" name="q4" value="selectif">Histoire, géopolitique, langues, droit</label>
              <label class="quiz-option"><input type="radio" name="q4" value="but">Sciences appliquées, informatique, gestion, techniques</label>
            </div>

            <!-- Q5 -->
            <div class="quiz-question">
              <p>5. Ton rapport au travail :</p>
              <label class="quiz-option"><input type="radio" name="q5" value="prepa">Prêt à travailler beaucoup chaque semaine</label>
              <label class="quiz-option"><input type="radio" name="q5" value="selectif">Prêt à travailler sérieusement mais avec équilibre</label>
              <label class="quiz-option"><input type="radio" name="q5" value="but">Besoin de concret pour rester motivé</label>
            </div>

            <!-- Q6 -->
            <div class="quiz-question">
              <p>6. Tu te projettes plutôt :</p>
              <label class="quiz-option"><input type="radio" name="q6" value="prepa">En école très sélective (commerce, ingénieur, etc.)</label>
              <label class="quiz-option"><input type="radio" name="q6" value="selectif">En bonne formation universitaire ou grande fac</label>
              <label class="quiz-option"><input type="radio" name="q6" value="but">En formation professionnalisante avec stages</label>
            </div>

            <!-- Q7 -->
            <div class="quiz-question">
              <p>7. Tu aimes apprendre :</p>
              <label class="quiz-option"><input type="radio" name="q7" value="prepa">Dans un cadre très exigeant avec beaucoup de contrôle</label>
              <label class="quiz-option"><input type="radio" name="q7" value="selectif">Avec autonomie mais des attentes claires</label>
              <label class="quiz-option"><input type="radio" name="q7" value="but">En faisant, en stage, en projet</label>
            </div>

            <!-- Q8 -->
            <div class="quiz-question">
              <p>8. Ton intérêt pour l'international / l'allemand :</p>
              <label class="quiz-option"><input type="radio" name="q8" value="franco">Très fort, surtout pour les parcours franco‑allemands</label>
              <label class="quiz-option"><input type="radio" name="q8" value="selectif">Intéressé par l'international mais pas forcément allemand</label>
              <label class="quiz-option"><input type="radio" name="q8" value="but">Plutôt priorité à rester proche de chez moi</label>
            </div>

            <!-- Q9 -->
            <div class="quiz-question">
              <p>9. Tu te vois plutôt :</p>
              <label class="quiz-option"><input type="radio" name="q9" value="prepa">Dans des métiers à forte compétition (finance, conseil…)</label>
              <label class="quiz-option"><input type="radio" name="q9" value="selectif">Dans des métiers de réflexion (droit, enseignement, recherche…)</label>
              <label class="quiz-option"><input type="radio" name="q9" value="but">Dans des métiers concrets / techniques / de terrain</label>
            </div>

            <!-- Q10 -->
            <div class="quiz-question">
              <p>10. Ta manière de gérer le stress :</p>
              <label class="quiz-option"><input type="radio" name="q10" value="prepa">Je gère assez bien la pression scolaire</label>
              <label class="quiz-option"><input type="radio" name="q10" value="selectif">Je préfère un cadre exigeant mais pas extrême</label>
              <label class="quiz-option"><input type="radio" name="q10" value="but">Je veux éviter les environnements trop stressants</label>
            </div>

            <!-- Q11 -->
            <div class="quiz-question">
              <p>11. Ta motivation actuelle pour les études :</p>
              <label class="quiz-option"><input type="radio" name="q11" value="prepa">Très motivé, prêt à faire beaucoup d'efforts</label>
              <label class="quiz-option"><input type="radio" name="q11" value="selectif">Motivé si le projet me parle vraiment</label>
              <label class="quiz-option"><input type="radio" name="q11" value="but">Besoin de concret rapidement pour rester motivé</label>
            </div>

            <!-- Q12 -->
            <div class="quiz-question">
              <p>12. Tu veux décider :</p>
              <label class="quiz-option"><input type="radio" name="q12" value="prepa">Plus tard, après 2 ans de formation généraliste</label>
              <label class="quiz-option"><input type="radio" name="q12" value="selectif">Relativement vite mais avec quelques années d'exploration</label>
              <label class="quiz-option"><input type="radio" name="q12" value="but">Assez tôt, avec une spécialisation claire</label>
            </div>

            <!-- Q13 -->
            <div class="quiz-question">
              <p>13. Tu te sens à l'aise avec les oraux :</p>
              <label class="quiz-option"><input type="radio" name="q13" value="prepa">Oui, débats, khôlles, entretiens ne me font pas peur</label>
              <label class="quiz-option"><input type="radio" name="q13" value="selectif">Ça va, avec un peu de préparation</label>
              <label class="quiz-option"><input type="radio" name="q13" value="but">Je préfère l'écrit ou les projets</label>
            </div>

            <!-- Q14 -->
            <div class="quiz-question">
              <p>14. Ce qui compte le plus pour toi :</p>
              <label class="quiz-option"><input type="radio" name="q14" value="prepa">Le niveau académique et les débouchés "prestigieux"</label>
              <label class="quiz-option"><input type="radio" name="q14" value="selectif">L'équilibre entre intérêt intellectuel et vie perso</label>
              <label class="quiz-option"><input type="radio" name="q14" value="but">L'employabilité rapide et la pratique</label>
            </div>

            <!-- Q15 -->
            <div class="quiz-question">
              <p>15. Tu voudrais être accompagné surtout sur :</p>
              <label class="quiz-option"><input type="radio" name="q15" value="prepa">Dossiers et concours très sélectifs</label>
              <label class="quiz-option"><input type="radio" name="q15" value="selectif">Choix d'une licence/double licence solide</label>
              <label class="quiz-option"><input type="radio" name="q15" value="but">Choix d'un BUT / formation pro qui me corresponde</label>
            </div>

            <div class="quiz-nav">
              <button type="button" class="btn-secondary" id="prevBtn">Précédent</button>
              <button type="button" class="btn-primary" id="nextBtn">Suivant</button>
            </div>
          </form>
        </div>

        <div id="quizResult" class="card" style="margin-top:2rem;display:none;">
          <h2>Ton profil d'orientation</h2>
          <p id="quizResultText"></p>
          <button class="btn-primary btn-submit" onclick="restartQuiz()">Recommencer le quiz</button>
        </div>
      </div>
    </section>
  </main>

  <div id="footer-placeholder"></div>

  <script>
    const totalQuestions = 15;
    let currentQuestionIndex = 0;
    const scores = {prepa:0,selectif:0,but:0,franco:0};

    function updateProgress(){
      const progress = ((currentQuestionIndex+1)/totalQuestions)*100;
      document.getElementById('progressBar').style.width = progress+'%';
      document.getElementById('questionCounter').textContent = 'Question '+(currentQuestionIndex+1)+' / '+totalQuestions;
    }

    function showQuestion(index){
      const questions=document.querySelectorAll('.quiz-question');
      questions.forEach((q,i)=>{
        q.classList.toggle('active',i===index);
      });
      updateProgress();
      document.getElementById('prevBtn').disabled = index===0;
      document.getElementById('nextBtn').textContent = index===totalQuestions-1 ? 'Voir mes résultats' : 'Suivant';
    }

    function collectScores(){
      const form=new FormData(document.getElementById('orientationQuiz'));
      scores.prepa=0;scores.selectif=0;scores.but=0;scores.franco=0;
      for(const [name,value] of form.entries()){
        if(scores[value]!==undefined){scores[value]+=1;}
      }
    }

    function calculateResult(){
      collectScores();
      const entries=Object.entries(scores).sort((a,b)=>b[1]-a[1]);
      const top1=entries[0],top2=entries[1];
      let message="";

      if(top1[0]==="prepa"){
        message+="<strong>Profil prépa / filières très sélectives</strong> : tu sembles prêt(e) à fournir un travail intense et tu vises des formations exigeantes (prépas ECG, MPSI, doubles licences sélectives, etc.).<br><br>";
      }else if(top1[0]==="selectif"){
        message+="<strong>Profil licences sélectives / grandes facs</strong> : tu cherches un bon niveau académique avec un certain équilibre (droit, éco‑gestion, sciences sociales, doubles licences...).<br><br>";
      }else if(top1[0]==="but"){
        message+="<strong>Profil formations professionnalisantes (BUT, BTS, etc.)</strong> : tu sembles très sensible au concret, aux stages et à l'employabilité rapide.<br><br>";
      }

      if(top2[1]>0){
        if(top2[0]==="prepa"){
          message+="En deuxième profil, tu as aussi des traits proches des élèves de prépa : cela vaut le coup de regarder quelques parcours très sélectifs.";
        }else if(top2[0]==="selectif"){
          message+="En deuxième profil, les licences sélectives / grandes facs ressortent également : tu peux viser de bons dossiers dans ces filières.";
        }else if(top2[0]==="but"){
          message+="En deuxième profil, les formations professionnalisantes apparaissent aussi : certains BUT / BTS peuvent être d'excellents plans de sécurité.";
        }else if(top2[0]==="franco"){
          message+="Ton intérêt pour l'international et l'allemand ressort : les cursus franco‑allemands (droit, sciences sociales, CPES, etc.) sont à regarder de près.";
        }
      }

      if(scores.franco>=2){
        message+="<br><br><strong>Bonus franco‑allemand</strong> : ton appétence pour l'allemand et l'international est un vrai atout pour les formations bi‑nationales.";
      }

      document.getElementById('quizResultText').innerHTML=message;
      document.getElementById('quizResult').style.display='block';
      document.getElementById('quizResult').scrollIntoView({behavior:'smooth'});
    }

    function restartQuiz(){
      document.getElementById('orientationQuiz').reset();
      currentQuestionIndex=0;
      showQuestion(0);
      document.getElementById('quizResult').style.display='none';
    }

    document.addEventListener('DOMContentLoaded',()=>{
      const questions=document.querySelectorAll('.quiz-question');
      questions.forEach(q=>{
        const labels=q.querySelectorAll('label');
        labels.forEach(label=>{
          const radio=label.querySelector('input[type="radio"]');
          label.addEventListener('click',()=>{
            labels.forEach(l=>l.classList.remove('selected'));
            label.classList.add('selected');
            radio.checked=true;
          });
        });
      });

      document.getElementById('prevBtn').addEventListener('click',()=>{
        if(currentQuestionIndex>0){
          currentQuestionIndex--;
          showQuestion(currentQuestionIndex);
        }
      });

      document.getElementById('nextBtn').addEventListener('click',()=>{
        const current=document.querySelectorAll('.quiz-question')[currentQuestionIndex];
        const checked=current.querySelector('input[type="radio"]:checked');
        if(!checked)return;
        if(currentQuestionIndex<totalQuestions-1){
          currentQuestionIndex++;
          showQuestion(currentQuestionIndex);
        }else{
          calculateResult();
        }
      });

      showQuestion(0);
    });
  </script>
</body>
</html>
